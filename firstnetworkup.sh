#!/bin/bash


netname=$(python operations.py getNetworkName)

./cryptogeneration.sh

./channelartifactsgen.sh

./replaceprivatekeys.sh


echo "############################################################################################################
      ###############################    NETWORK CREATION IN PROGRESS     ########################################
      ############################################################################################################"
docker-compose -f docker-compose-e2e.yaml --project-name $netname up -d 2>&1


echo "############################################################################################################
      ##################################    NETWORK IS UP            #############################################
      ############################################################################################################"

sleep 15

temp1=$netname"cli"

docker exec $temp1 scripts/startchannelcreation.sh 

echo "############################################################################################################
      ##################################    CHANNELS ARE CREATED            ######################################
      ############################################################################################################"

./orgjson.sh
 rm ./orgjson.sh


python operations.py updateNetworkStatus networkstatus



 


   

